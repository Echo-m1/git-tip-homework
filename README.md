# GitTips (Часть 1. От открытия консоли до первого коммита)

## Вводная

---

Командная строка ( `CLI` – **C**omand-**l**ine **I**nterface ) – текстовый интерфейс, терминал, консоль. 

Текстовый аналог, точнее сказать прародитель привычного всем нам графического интерфейса. Когда-то очень давно его не было и управление программами компьютера происходило с помощью командной строки. Соответственно компьютером могли пользоваться только программисты.

Сейчас командная строка редко используется людьми, которые "не вошли в айти", но для программистов – **необходимый** инструмент.

---

Графический интерфейс (`GUI` – **G**raphical **U**ser **I**nterface) – окна, значки, кнопки, выпадающие меню с настройками и прочие элементы. Используется для управления компьютером и практически всеми его программами. Технически работает так же как и командная строка, но делает это проще и доступнее.  

---

VCS ( Version Control System – 'система контроля версий' ), SCM ( Source Control Management – 'система управвления исходным кодом' ) – программное обеспечение, которое помогает отслеживать изменения в программах, текстовых файлах, больших файлах, веб-сайтах и т.д.

Одно изменение или группа изменений называются ревизией/версией.
Каждая такая версия содержит информацию о том, что изменилось, кто внес изменения, когда это было и, иногда, комментарии к изменению.

---

 ### Командная строка

Итак, для дальнейшей работы с `Git` нам понадобится ознакомиться как минимум с нижеперечисленными командами. Они позволят нам перемещаться по файловой системе, просматривать создавать и удалять файлы.

---

_Нумерованный список – команды._

_Ненумерованный – их ключи_

_Ключ – специальный аргумент, который пишется через пробел и начинается с одного или двух дефисов. Он определяет параметры, которые будут применены к команде_

---

1. **`pwd`** – ( **print working directory** – 'показать рабочую папку' ) – выводит путь к текущей директории. Если вы не видите подсказок консоли, или просто забыли про них, или так глубоко залезли в файловую систему, что путь к вашему текущему положению не помещается в поле для подсказки, то **эта команда** – то, что вам нужно

---

2. **`cd`** – ( **change directory** – 'сменить директорию' ) – принимает на вход один параметр: название папки, в которую вы хотите "спуститься", или целый путь. Тут описание не такое длинное, но сейчас мы познакомимся с ключами:
- **`.`** – обратиться к текущей директории ( используется довольно редко, например если скрипт принимает на вход папку ). `Пример использования: cd .` Если вы никакого такого скрипта не запускали, то эффекта от выполнения этой команды никакого не будет, можете попробовать
- **`~`** – переход в домашнюю директорию ( Не путать с корневым каталогом! Домашняя директория используется для хранения пользовательских файлов: у вас там находятся все фотографии, видео, папки с играми, мемами и небезызвестный рабочий стол ). `Пример использования: cd ~` 
- **`Desktop`** – позволяет перейти в папку Desktop ( если такая есть в текущей директории ). `Пример использования: cd Desktop` 
- **`Desktop/games`** – а так мы перейдем в папку games, которая находится в папке Desktop. `Пример использования: cd Desktop/games`
- **`..`** – переход на один уровень вверх. `Пример использования: cd ..`
- **`/`** – переход в корневую директорию. Корневая директория – главная папка на компьютере или сервере. В ней хранятся вообще все файлы, как пользовательские, так и системные. Пользуйтесь с осторожностью, чтобы не изменить что-то не дай бог. Я, например, не знаю как в случае чего все обратно откатить.  `Пример использования: cd /`

---

3. **`ls`** – ( **list directory contents** – 'отобразить содержимое директорий' ) – данная команда показывает какие вложенные папки содержит текущая директория
- **`-a`** – показывает расширенный список ( включая скрытые файлы ). `Пример использования: ls -a`
- **`~`** – показывает содержимое домашней директории. `Пример использования: ls ~`
- **`..`** – показывает содержимое родительской директории. `Пример использования: ls ..`
- **`l`** – показывает содержимое в виде списка. `Пример использования: ls -l`

---

4. **`touch`** – ( коснуться ) – создать **файл**. `Пример использования: touch test.txt`
- **`~`** – создать файл в домашней директории. `Пример использования: touch ~ test.txt (или touch ~/test.txt)`
- **`..`** – создать файл в директории на один уровень выше текущей. `Пример использования: touch ../test.txt`

---

5. **`mkdir`** – ( make directory – 'создать директорию' ) – позволяет создать пустую папку
- **`~`** – позволяет обратиться к домашней директории. `Пример использования: mkdir ~/bar`
- **`..`** – позволяет обратиться к родительской директории. `Пример использования: mkdir ../../bar`

---

6. **`cp`** – ( copy – 'копировать' ) – позволяет копировать файлы. Принимает минимум два параметра: что_копировать и куда_копировать
- **`~`** – позволяет обратиться к домашней директории. `Пример использования: cp test1.txt test2 ~/Desktop/test-directory`
- **`..`** – позволяет обратиться к родительской директории. `Пример использования: cp ../test.txt Desktop/test-directory`

---

7. **`mv`** – ( move – 'переместить' ) – позволяет перемещать файлы. Принимает минимум два параметра: что_перемещать и куда_перемещать
- **`~`** – позволяет обратиться к домашней директории. `Пример использования: mv test1.txt test2 ~/Desktop/test-directory`
- **`..`** – позволяет обратиться к родительской директории. `Пример использования: mv ../test.txt Desktop/test-directory`

---

8. **`cat`** – ( concatenate and print – 'объединить и распечатать' ) – команда распечатает содержимое **текстового** файла. `Пример использования: cat test.txt`
- **`~`** – позволяет обратиться к домашней директории. `Пример использования: cat ~/test.txt`
- **`..`** – позволяет обратиться к родительской директории. `Пример использования: cat ../test.txt`

---

9. **`rm`** – ( remove – 'удалить' ) позволяет удалить файл
- **`r`** – ( recursively – 'рекурсивно' ) – команда проходится по всем вложенным элементам папки, удаляя их по очереди. Таким образом можно удалить папку, содержащую в себе какие-то файлы или другие папки. `Пример использования: rm -r foo`
- **`f`** – ( force – 'сила' ) – позволяет избавиться от вопросов а-ля "Вы точно хотите это сделать?". `Пример использования: rm -f test.txt`

---

10. **rmdir** – ( remove directory – 'удалить директорию' ) – позволяет удалить **пустую** папку
- **`~`** – позволяет обратиться к домашней директории. `Пример использования: rmdir ~/bar`
- **`..`** – позволяет обратиться к родительской директории. `Пример использования: rmdir ../../bar`

---

11. **`pbcopy`** – Вкупе с ключом `<` позволяет копировать содержимое файла.  `Пример использования: pbcopy < test.txtr`


`&& – позволяет 'склеивать' команды. Удобно, когда требуется несколько раз вводить похожие команды`

Список этих команд хоть и выглядит объемным, но очень легко запоминается. Эти команды вы в дальнейшем будете использовать чаще всего

---

 ### Git

**`Git`** – консольный инструмент для работы с локальными и удаленными репозиториями. Он не свзяан напрямую ни с одной из платформ и развивается отдельно от них.

**`GitHub`** – платформа, которая работает с `Git` и упрощает командное взаимодействие.

---

Кроме `GitHub`, существуют и другие подобные платформы. 

**`GitLab`**, помимо всего прочего, можно развернуть в виде сервера в приватной сети.

**`Bitbucket`** – разработан компанией **Atlassian** и легче интегрируется с другими продуктами компании.

---

Переходим к настройке `Git`

В записи об изменениях обязательно должны быть указаны данные о человеке, который их внес. Давайте создадим такую информацию о себе ( Настроим конфигурационный файл ).

```BASH
git config --global user.name 'ExampleUsername'
git config --global user.email 'example@test.com'
```

Чтобы убедиться в том, что данные записаны, выведем их на экран консоли. Для этого нам нужно прочитать файл `.gitconfig`, который хранится в корневом каталоге.
```BASH
cat ~/.gitconfig
```

Если все правильно, то мы увидим что-то похожее:
```BASH
[user]
	name = ExampleUsername
	email = example@test.com
```


**`--global`** – данный ключ позволяет глобально задать атрибуты для пользователя, которые будут отображаться при изменении файлов проекта

Теперь мы готовы делать коммиты, пуши и все остальные штуки которые делают настоящие разработчики.

Переходим в папку проекта и пишем следующую команду

```BASH
git init
```

init ( initialization – 'инициализация' )

## GitHub

---
*Сейчас вам необходимо зарегистрироваться на GitHub и создать удаленный репозиторий. Этот этап обучения оставим без подсказок – естественный отбор.*

---

Единственное, что хотелось бы заметить – название репозитория не обязательно должно сопадать с названием проекта, но, чтобы не путаться, называйте так же

Теперь, когда репозиторий создан, нужно связать его с проектом. Для этого `GitHub` предоставляет **инструкцию** (в программировании инструкция – набор команд). Прежде чем это случится, давайте научимся генерировать `SSH-ключи` (от англ. Secure Shell — «безопасная оболочка»)

---

SSH – один из наиболее распространённых сетевых протоколов. Он обеспечивает безопасный обмен данными в сети. С помощью этого протокола можно получать данные с удалённого компьютера или отправлять их на него. Трафик шифруется, поэтому протокол безопасен.

SSH использует пару ключей для обеспечения безопасности — публичный и приватный:
- Приватный ключ (англ. private key) хранится только на вашем компьютере и не должен передаваться кому-либо ещё. Он используется для расшифровки данных.
- Публичный ключ (англ. public key) доступен всем и используется для шифрования данных. Они могут быть расшифрованы парным приватным ключом.


#### Проверка наличия SSH-ключа
Прежде чем генерировать SSH-ключи, убедитесь, что у вас их ещё нет. По умолчанию директория с SSH-ключами находится в домашней директории пользователя. Перейдите в неё.

```BASH
$ cd ~ # перешли в домашнюю директорию 
```

Обычно SSH-ключи находятся в директории `.ssh/`. Проверить наличие этой директории и файлов в ней можно с помощью следующей команды.

```BASH
$ ls -la .ssh/ # вывели список созданных ключей 
```

Если папка пустая или её нет, всё в порядке.
Если есть файлы с похожими названиями, SSH-ключи уже создавались:
- `id_dsa.pub`
- `id_ecdsa.pub`
- `id_ed25519.pub`
- `id_rsa.pub`

Если вы не создавали эти файлы, удалите их все.

### Инструкция по генерации SSH-ключа

1. Для генерации SSH-пары можно использовать программу `ssh-keygen`. Откройте терминал и введите следующую команду.
```BASH
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"  
```

Если вы видите сообщение об ошибке, то, скорее всего, ваша система не поддерживает алгоритм шифрования `ed25519`. Ничего страшного: используйте другой алгоритм.

```BASH
$ ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

После ввода отобразится такое сообщение.

```BASH
> Generating public/private rsa key pair. # сгенерированы публичный и приватный ключи
```

2. Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите Enter.

Теперь в указанной директории появится пара ключей.
2. Программа запросит кодовую фразу (англ. passphrase) для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите `Enter`, а затем ещё раз `Enter` для подтверждения.

```BASH
> Enter passphrase (empty for no passphrase): [Type a passphrase]
> Enter same passphrase again: [Type passphrase again]
```

---
💡 Быть или не быть кодовой фразе — вот в чём вопрос
Как бы странно ни звучало, кодовая фраза — это «пароль от ключа». Представьте, что SSH-ключ лежит в шкатулке. А на самой шкатулке — кодовый замок, который открывается кодовой фразой.
Многие пользователи Git не используют кодовую фразу для защиты своего SSH-ключа. Если такой фразы нет, то её не нужно вводить всякий раз при взаимодействии с удалённым репозиторием.
С другой стороны, применение кодовой фразы усиливает безопасность ключей. Если вы используете эту фразу, ключ будет надёжно защищён в случае несанкционированного доступа к вашему компьютеру.
---

4. Готово! Теперь осталось проверить, что ключи действительно сгенерировались. Для этого вызовите эту команду.


```BASH
ls -a ~/.ssh
```

На экране должны появиться два файла — один с расширением `.pub`, другой — без. Файл в `.pub` — публичный, им можно делиться с веб-сайтами или коллегами. Файл без расширения `.pub` — приватный. Ни в коем случае не передавайте его никому! 

### Инструкция по связыванию SSH-ключа и GitHub-аккаунта

1. После выполнения команды ssh-keygen из предыдущего урока в директории `~/.ssh` будет создано два файла — `id_ed25519` и `id_ed25519.pub` (или `id_rsa` и `id_rsa.pub` — в зависимости от того, какой алгоритм вы использовали):
   - `id_ed25519`/`id_rsa` — приватный ключ (файл без .pub в конце). Ни в коем случае не копируйте его и не делитесь им.
   - `id_ed25519.pub`/`id_rsa.pub` — публичный ключ (на это указывает расширение .pub).
   Скопируйте содержимое файла с публичным ключом в буфер обмена.

*MacOs*
```BASH
# скопировать содержимое ключа в буфер обмена:
$ pbcopy < ~/.ssh/id_rsa.pub
# для ed25519:
$ pbcopy < ~/.ssh/id_ed25519.pub
```


Здесь используется команда `pbcopy` — она копирует поток данных в буфер обмена. Запись `pbcopy < ~/.ssh/id_rsa.pub` означает: «Скопируй в буфер обмена всё содержимое файла `~/.ssh/id_rsa.pub`».
В качестве альтернативы вы можете распечатать файл на экран с помощью `cat ~/.ssh/id_rsa.pub` и скопировать его вручную.


*Windows*

```BASH
# скопировать содержимое ключа в буфер обмена:
$ clip < ~/.ssh/id_rsa.pub
# для ed25519:
$ clip < ~/.ssh/id_ed25519.pub
```

Если `clip` не сработает, выведите содержимое файла с помощью `cat ~/.ssh/id_rsa.pub` или cat ~/.ssh/id_ed25519.pub и скопируйте вывод в буфер обмена из консоли.

2. Перейдите на GitHub и выберите пункт Settings (англ. «настройки») в меню аккаунта. 
3. В меню слева нажмите на пункт SSH and GPG keys.
4. В открывшейся вкладке выберите New SSH key (англ. «новый SSH-ключ»).
5. В поле Title (англ. «заголовок») напишите название ключа. Например, Personal key (англ. «личный ключ»).
6. В поле Key type (англ. «тип ключа») должно быть Authentication Key (англ. «ключ аутентификации»).
7. В поле Key скопируйте ваш ключ из буфера обмена.
8. Нажмите на кнопку Add SSH key (англ. «добавить SSH-ключ»).
9. Проверьте правильность ключа с помощью следующей команды.
    ```BASH
   $ ssh -T git@github.com
    ```
    Если это первый раз, когда вы используете `Git`, чтобы поделиться проектом на `GitHub`, появится похожее предупреждение.
    ```BASH
    The authenticity of host 'github.com (140.82.121.4)' can't be established. ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU. This key is not known by any other names. Are you sure you want to continue connecting (yes/no/[fingerprint])?
    ```

    Это предупреждение сообщает, что вы никогда не соединялись с сервером `GitHub`. Поэтому `Git` не может гарантировать, что сервер является тем, за кого он себя выдаёт.
   
    Для подтверждения подлинности сервер генерирует и публикует ключи `SHA256`. Вы можете проверить ключи `GitHub` [по этой ссылке](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints). Если ключ в предупреждении совпадает с тем, что вы видите на сайте, значит, сервер является действительным. Введите `yes`, чтобы продолжить. Вы увидите приветствие на экране.
    ```BASH
    Hi %ВАШ_АККАУНТ%! You've successfully authenticated, but GitHub does not provide shell access.
    ```
   
### Связываем локальный и удалённый репозитории

Сейчас у вас есть локальный репозиторий `first-project`, который хранится на вашем компьютере, и удалённый репозиторий на `GitHub`. Вы сгенерировали `SSH-ключ` для безопасной работы и теперь готовы связать удалённый репозиторий с локальным.

Привязать удалённый репозиторий к локальному — `git remote add`

Перейдите на страницу удалённого репозитория, выберите тип `SSH` и скопируйте `URL`. Кнопка справа позволит сделать это мгновенно.

Откройте консоль, перейдите в каталог локального репозитория и введите команду `git remote add` (от англ. remote — «удалённый» и add — «добавить»).

```BASH
$ cd ~/dev/first-project
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git
```

Команде необходимо передать два параметра: имя удалённого репозитория и его `URL`. В качестве имени используйте слово `origin`. А URL вы скопировали со страницы удалённого репозитория.

`origin` (англ. «источник») — стандартный псевдоним, с помощью которого можно обращаться к главному удалённому репозиторию (обычно такой репозиторий один). Это значительно упрощает работу.

### Убедиться, что репозитории связаны, — `git remote -v`

Отлично: вы связали локальный репозиторий с удалённым. Осталось убедиться, что всё работает, с помощью следующей команды.

```BASH
$ git remote -v
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push)
```

В выводе вы должны увидеть две строчки, аналогичные тем, что показаны выше.

Флаг `-v` — короткая форма флага `--verbose` (англ. «подробный»). Он позволяет показать больше информации в выводе.










